# Docker 17.03.0 发布，版本形式大变革

**重要**：从这个版本开始，Docker会把月作为版本发布周期，同时使用一个全新的 YY.MM 版本定义规范。发布周期有两种表现形式：月度发布以及季度发布。任何给定的月度版本只会接受安全的bug修复以及普通的bug修复知道，下一个月度版本的到来。季度发布的版本从初始版本开始，接受4个月来的安全修复和Bug修复。这个季度版本将包括为1.13.1修复的bug，但是这里将不再有额外的主要功能融入，需要强调的是API版本依然保持一致。从Docker 1.13.1 升级到 17.03.0 将会非常简单，同时风险性极低。

## 客户端
* 修复了`docker stats --format`所存在的程序panic

## 发行版
* 更新了大量的`bash`和`zsh`的自动补全功能
* 在默认的`seccomp profile`中屏蔽遗弃的套接字簇，缓和了内粗漏洞CVE-2017-6074

## 网络
* 修复了跨数据中心Swarm集群中overlay网络加密密钥的更新问题
* 修复了overlay网络加密和网络控制层通信出错时可能出现的副作用，该问题经常出现在平凡的Swarm Leader的重新选举过程中。
* 围绕系统的响应和数据层编码，修复了数个问题，该问题在使用外部k/v存储的overlay网络时会出现
* 为加密的overlay网络丢弃来访的vxlan包
* 在网络分配失败时，释放网络attachment
* 修复了当多个暴露端口映射到同一个目标端口时存在的端口分配问题

## Docker运行时

* 修复了`docker logs`命令中可能存在的死锁
* 修复了Docker Daemon 等待日志写事件所存在的CPU大幅占用问题
* 修复了一个使用journald时可能存在的崩溃问题
* 修复了一个在关闭nil管道时，会存在的panic问题
* 在`docker run`命令中修复了之前允许通过`--volume-from`挂载重复挂载点的问题
* 修复了 `--cache-from`命令不缓存上一步的问题

## Swarm Mode

* 当容器从未启动时，停机操作会抛出一个错误
* 在leader失败的过程中，修复了任务有可能会停留在NEW状态的问题
* 在 `docker service ls` 中，修复了全局服务中有可能出现的，因额外任务创建而导致的副本数量显示出错问题
* 修复了当`task-history-limit`设置为1时，导致滚动更新极慢的问题
* 如果可以的话，当任务被关闭之后，节点不再满足限制条件时，在其他地方重启任务。


 